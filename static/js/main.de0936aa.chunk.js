(this["webpackJsonpreact-piano"]=this["webpackJsonpreact-piano"]||[]).push([[0],{12:function(n,e,t){},13:function(n,e,t){},28:function(n,e,t){"use strict";t.r(e);var a=t(0),o=t.n(a),i=t(5),c=t.n(i),r=(t(12),t(13),t(1)),u=t(2),s=t(3),l=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],f=[1,2,3,4,5,6,7].reduce((function(n,e){var t=l.map((function(n){return"".concat(n).concat(e)}));return[].concat(Object(r.a)(n),Object(r.a)(t))}),[]),y=function(n){return f.includes(n)&&n.includes("#")},d=function(n,e){return Object.keys(n).filter((function(t){return n[t]===e}))},m=t(6),p=t.n(m),g=window.AudioContext||window.webkitAudioContext,v={stop:function(){}},b={play:function(){return v}},E=function(){var n=g&&new g,e=b;return{setInstrument:function(t){p.a.instrument(n,t).then((function(n){e=n})).catch((function(n){e=b}))},playNote:function(n){return e.play(n)}}},N=function(n){var e=n.instrumentName,t=n.notes,o=Object(a.useState)(null),i=Object(s.a)(o,2),c=i[0],r=i[1];Object(a.useEffect)((function(){r(E())}),[]),Object(a.useEffect)((function(){c&&(u(),l())}),[c]),Object(a.useEffect)((function(){t&&t.length>0&&l()}),[t]);var u=function(){c.setInstrument(e)},l=function(){c&&c.playNote(t[0])};return null};var O=function(n){return!n.ctrlKey&&!n.metaKey&&!n.shiftKey},P=function(n){var e=n.instrumentName,t=n.startNote,i=n.endNote,c=n.renderPianoKey,l=n.keyboardMap,m=function(n,e){var t=f.indexOf(n),a=f.indexOf(e);return f.slice(t,a+1)}(t,i),p=Object(a.useState)({notesPlaying:[]}),g=Object(s.a)(p,2),v=g[0],b=g[1];Object(a.useEffect)((function(){window.addEventListener("keydown",P),window.addEventListener("keyup",w)}),[]);var E=function(n){return l[n.toUpperCase()]},P=function(n){if(O(n)&&!n.repeat){var e=E(n.key);e&&b(Object(u.a)({},v,{notesPlaying:[].concat(Object(r.a)(v.notesPlaying),[e])}))}},w=function(n){if(O(n)&&!n.repeat){var e=E(n.key);e&&b(Object(u.a)({},v,{notesPlaying:v.notesPlaying.filter((function(n){return n!==e}))}))}};return o.a.createElement(a.Fragment,null,m.map((function(n){return o.a.createElement(a.Fragment,{key:n},c({note:n,isAccidentalNote:y(n),isNotePlaying:v.notesPlaying.includes(n),startPlayingNote:function(){return function(n){b(Object(u.a)({},v,{notesPlaying:[].concat(Object(r.a)(v.notesPlaying),[n])}))}(n)},stopPlayingNote:function(){return function(n){b(Object(u.a)({},v,{notesPlaying:v.notesPlaying.filter((function(e){return e!==n}))}))}(n)},keyboardShortcut:d(l,n)}))})),o.a.createElement(N,{instrumentName:e,notes:v.notesPlaying}))},w=function(){var n=function(n){var e=n.isPlaying,t=n.text,a=n.eventHandlers;return o.a.createElement("div",{className:"piano-accidental-key-wrapper"},o.a.createElement("button",Object.assign({className:"piano-accidental-key ".concat(e?"piano-accidental-key-playing":""," ")},a),o.a.createElement("div",{className:"piano-text"},t)))},e=function(n){var e=n.isPlaying,t=n.text,a=n.eventHandlers;return o.a.createElement("button",Object.assign({className:"piano-natural-key ".concat(e?"piano-natural-key-playing":""," ")},a),o.a.createElement("div",{className:"piano-text"},t))};return o.a.createElement("div",{className:"piano-container"},o.a.createElement(P,{instrumentName:"acoustic_grand_piano",startNote:"C3",endNote:"B5",renderPianoKey:function(t){var a=t.isAccidentalNote,i=t.isNotePlaying,c=t.startPlayingNote,r=t.stopPlayingNote,u=t.keyboardShortcut,s=a?n:e,l={onMouseDown:c,onMouseUp:r,onTouchStart:c,onMouseOut:r,onTouchEnd:r};return o.a.createElement(s,{isPlaying:i,text:u.join("/"),eventHandlers:l})},keyboardMap:{Q:"C3",2:"C#3",W:"D3",3:"D#3",E:"E3",R:"F3",5:"F#3",T:"G3",6:"G#3",Y:"A3",7:"A#3",U:"B3",I:"C4",9:"C#4",O:"D4",0:"D#4",P:"E4",Z:"F4",S:"F#4",X:"G4",D:"G#4",C:"A4",F:"A#4",V:"B4",B:"C5",H:"C#5",N:"D5",J:"D#5",M:"E5",",":"F5",L:"F#5",".":"G5",";":"G#5","/":"A5","'":"A#5",A:"B5"}}))};var j=function(){return o.a.createElement("div",{className:"app-container"},o.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))},7:function(n,e,t){n.exports=t(28)}},[[7,1,2]]]);
//# sourceMappingURL=main.de0936aa.chunk.js.map